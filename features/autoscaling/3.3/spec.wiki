= Overview =
Automatically Scale Server Farms 
Scale Up/Down
(Re)Balance Across AZs 
Add/Remove from ELB
Scaling Thermostat
== Types of Scaling ==
Manual
Send an API call or use CLI to launch/terminate instances 
Only need to specify capacity change (+/-)
By Schedule
Scale up/down based on date and time
By Policy
Scale in response to changing conditions
Based on user configured real-time monitoring and alerts 
Health checks and CloudWatch
Automatic Rebalance
Instances are automatically launched/terminated to ensure the application is balanced across multiple AZs
== Autoscaling Components ==
=== Launch Configuration ===
* Describes how to add instances  instances
** AMI 
** Instance Type
** Security Group
** Instance Key Pair
* Only one active launch configuration at a time
* Auto Scaling will terminate instances with old launch configurations first
** Rolling software updates

=== Auto Scaling Group ===
Auto Scaling managed grouping of EC2 instances
Automatic health check to maintain pool size
Automatically scale the number of instances by policy 
Min, Max, Desired
Automatic Integration with ELB
Automatic Integration with AZs
Automatic distribution & balancing across AZs

=== Auto Scaling Policy ===
Parameters for performing an Auto Scaling action
Scale Up/Down
By how much
ChangeInCapacity (+/- #) 
ExactCapacity (#) 
ChangeInPercent (+/- %) 
Cool Down (seconds)
Policy can be triggered by CloudWatch Events

=== Cloud Watch Alarms ===
Monitors a CloudWatch metric 
Threshold (> 50% CPU)
Period (for 3 minutes)
Alarm States
OK - Within defined threshold
ALARM - Outside defined threshold
INSUFFICIENT_DATA - Metric does not have enough data to determine state
Available Actions
Trigger Auto Scaling Policy (scale up/down event) 
Send SNS notification

=== Scaling Activity ===
Instance Launch
Instances are launched (not started) from a “gold” image
 Bootstrapping is important! 
 Automatically added to ELB (if configured) 
Instance Termination
Instances are terminated (not stopped)
 Longest running instance from the oldest launch config first 
 Automatically removed from ELB (if configured) 
Cooldown
The period after an Auto Scaling activity during which no other scaling activity can take place
Gives the system time to perform and adjust to before executing a new scaling activity
300 seconds (5 minutes) by default
Suspend/Resume Processes
Allows you to manually suspend and resume Auto Scaling activities

== Autoscaling Operations ==
=== Operation Parameters ===
Parameters may be required that are not required in AWS due to alternatives that we do not implement (as noted)

{|
! Operation !! Parameter !! Required !! Supported !! Notes
|-
| [http://docs.amazonwebservices.com/AutoScaling/2011-01-01/APIReference/API_CreateAutoScalingGroup.html CreateAutoScalingGroup (amazonwebservices.com)]
|              AutoScalingGroupName || Y || Y ||
|-
| &nbsp;    || AvailabilityZones.member.N || Y<ref name="novpc">VPC is not supported</ref> || Y ||
|-
| &nbsp;    || DefaultCooldown || &nbsp; || ? ||
|-
| &nbsp;    || DesiredCapacity || &nbsp; || Y ||
|-
| &nbsp;    || HealthCheckGracePeriod || &nbsp; || ? ||
|-
| &nbsp;    || HealthCheckType || Y || ? ||
|-
| &nbsp;    || LaunchConfigurationName || Y || ? ||
|-
| &nbsp;    || LoadBalancerNames.member.N || &nbsp; || ? ||
|-
| &nbsp;    || MaxSize || Y || Y ||
|-
| &nbsp;    || MinSize || Y || Y ||
|-
| &nbsp;    || PlacementGroup || &nbsp; || ? ||
|-
| &nbsp;    || Tags.member.N || &nbsp; || Y ||
|-
| &nbsp;    || TerminationPolicies.member.N || &nbsp; || ? ||
|-
| &nbsp;    || VPCZoneIdentifier || &nbsp; || - || VPC<ref name="novpc"/>
|-
| [http://docs.amazonwebservices.com/AutoScaling/2011-01-01/APIReference/API_DeleteAutoScalingGroup.html DeleteAutoScalingGroup (amazonwebservices.com)]
|              AutoScalingGroupName || Y || Y ||
|-
| &nbsp;    || ForceDelete || &nbsp; || Y ||
|-
| [http://docs.amazonwebservices.com/AutoScaling/2011-01-01/APIReference/API_DescribeAutoScalingGroups.html DescribeAutoScalingGroups (amazonwebservices.com)]
|              AutoScalingGroupNames.member.N || &nbsp; || Y ||
|-
| &nbsp;    || MaxRecords || &nbsp; || Y ||
|-
| &nbsp;    || NextToken || &nbsp; || Y ||
|-
| [http://docs.amazonwebservices.com/AutoScaling/2011-01-01/APIReference/API_DescribeAutoScalingInstances.html DescribeAutoScalingInstances (amazonwebservices.com)]
|              InstanceIds.member.N || &nbsp; || Y ||
|-
| &nbsp;    || MaxRecords || &nbsp; || Y ||
|-
| &nbsp;    || NextToken || &nbsp; || Y ||
|-
| [http://docs.amazonwebservices.com/AutoScaling/2011-01-01/APIReference/API_SetDesiredCapacity.html SetDesiredCapacity (amazonwebservices.com)]
|              AutoScalingGroupName || Y || Y ||
|-
| &nbsp;    || DesiredCapacity || Y || Y ||
|-
| &nbsp;    || HonorCooldown || &nbsp; || ? ||
|-
| [http://docs.amazonwebservices.com/AutoScaling/2011-01-01/APIReference/API_SetInstanceHealth.html SetInstanceHealth (amazonwebservices.com)]
|              HealthStatus || Y || Y ||
|-
| &nbsp;    || InstanceId || Y || Y ||
|-
| &nbsp;    || ShouldRespectGracePeriod || &nbsp; || ? ||
|-
| [http://docs.amazonwebservices.com/AutoScaling/2011-01-01/APIReference/API_TerminateInstanceInAutoScalingGroup.html TerminateInstanceInAutoScalingGroup (amazonwebservices.com)]
|              InstanceId || Y || Y ||
|-
| &nbsp;    || ShouldDecrementDesiredCapacity || Y || Y ||
|-
| [http://docs.amazonwebservices.com/AutoScaling/2011-01-01/APIReference/API_UpdateAutoScalingGroup.html UpdateAutoScalingGroup (amazonwebservices.com)]
|			   AutoScalingGroupName || Y || Y ||
|-
| &nbsp;    || AvailabilityZones.member.N || N || Y ||
|-
| &nbsp;    || DesiredCapacity || N || Y ||
|-
| &nbsp;    || DefaultCooldown || N || Y ||
|-
| &nbsp;    || HealthCheckGracePeriod || N || Y ||
|- 
| &nbsp;    ||  LaunchConfigurationName   || N || Y ||
|- 
| &nbsp;    ||  MaxSize   || N || Y ||
|- 
| &nbsp;    ||  MinSize   || N || Y ||
|- 
| &nbsp;    ||  PlacementGroup   || N || Y ||
|- 
| &nbsp;    ||  TerminationPolicies.member.N   || N || Y ||
|- 
| &nbsp;    ||  VPCZoneIdentifier   || N || N ||
|- 
| &nbsp;    || HealthCheckType  || N || Y ||
|- 
| [http://docs.amazonwebservices.com/AutoScaling/2011-01-01/APIReference/API_CreateLaunchConfiguration.html CreateLaunchConfiguration (amazonwebservices.com)]
|              BlockDeviceMappings.member.N || N || Y ||
|-
| &nbsp;    || EbsOptimized || N || N ||
|-
| &nbsp;    || IamInstanceProfile || N || N ||
|-
| &nbsp;    || ImageId || Y || Y ||
|-
| &nbsp;    || InstanceMonitoring || N || Y ||
|-
| &nbsp;    || InstanceType || Y || Y ||
|-
| &nbsp;    || KernelId || N || Y ||
|-
| &nbsp;    || KeyName || N || Y ||
|-
| &nbsp;    || LaunchConfigurationName || Y || Y ||
|-
| &nbsp;    || RamdiskId || N || Y ||
|-
| &nbsp;    || SecurityGroups.member.N || N || Y ||
|-
| &nbsp;    || SpotPrice || N || N ||
|-
| &nbsp;    || UserData || N || Y ||
|-
| [http://docs.amazonwebservices.com/AutoScaling/2011-01-01/APIReference/API_DeleteLaunchConfiguration.html DeleteLaunchConfiguration (amazonwebservices.com)]
|              LaunchConfigurationName || Y || Y || 
|-
| [http://docs.amazonwebservices.com/AutoScaling/2011-01-01/APIReference/API_DescribeLaunchConfigurations.html DescribeLaunchConfigurations (amazonwebservices.com)]
|              LaunchConfigurationNames.member.N || N || Y ||
|-
| &nbsp;    || MaxRecords || N || Y ||
|-
| &nbsp;    || NextToken || N || Y ||
|}

=== Operation Errors ===
{|
! Operation !! Error !! Supported !! Notes
|-
| [http://docs.amazonwebservices.com/AutoScaling/2011-01-01/APIReference/API_CreateAutoScalingGroup.html CreateAutoScalingGroup (amazonwebservices.com)]
|              AlreadyExists || Y ||
|-
| &nbsp;    || LimitExceeded || Y ||
|-
| [http://docs.amazonwebservices.com/AutoScaling/2011-01-01/APIReference/API_DeleteAutoScalingGroup.html DeleteAutoScalingGroup (amazonwebservices.com)]
|              ResourceInUse || Y ||
|-
| &nbsp;    || ScalingActivityInProgress || Y ||
|-
| [http://docs.amazonwebservices.com/AutoScaling/2011-01-01/APIReference/API_DescribeAutoScalingGroups.html DescribeAutoScalingGroups (amazonwebservices.com)]
|              InvalidNextToken || Y ||
|-
| [http://docs.amazonwebservices.com/AutoScaling/2011-01-01/APIReference/API_DescribeAutoScalingInstances.html DescribeAutoScalingInstances (amazonwebservices.com)]
|              InvalidNextToken || Y ||
|-
| [http://docs.amazonwebservices.com/AutoScaling/2011-01-01/APIReference/API_SetDesiredCapacity.html SetDesiredCapacity (amazonwebservices.com)]
|               ScalingActivityInProgress  || Y ||
|-
| [http://docs.amazonwebservices.com/AutoScaling/2011-01-01/APIReference/API_TerminateInstanceInAutoScalingGroup.html TerminateInstanceInAutoScalingGroup (amazonwebservices.com)]
|               ScalingActivityInProgress  || Y ||
|}


= IAM IMPLICATION =
* IAM needs updating to reflect the added keys, actions, resource types from this service
* autoscaling allocates resources on behalf of the user
= EC2 IMPLICATION =
* tagging
= ELB IMPLICATION =
* add to scaling group to load balancer (ELBility)
= Scope Limitations
* vpc out
* spot instances out
= Scaling Processes =
== Health Check ==  
== Policy ==
* load generation tools would be needed for test & dev.
== Scheduled ==
Auto Scaling guarantees execution order for scheduled actions within the same group, but not for scheduled actions across groups.

    A scheduled action generally executes within seconds. However, the action may be delayed up to two minutes from the scheduled start time. Because Auto Scaling executes actions within an Auto Scaling group in the order they are specified, scheduled actions with scheduled start times close to each other may take longer to execute.

    You can schedule a scheduled action for up to a month in the future.

    You can create a maximum of 125 scheduled actions per Auto Scaling group. This allows scaling four times a day for a 31-day month for each Auto Scaling group.

    A scheduled action must have a unique time value. If you attempt to schedule an activity at a time when another existing activity is already scheduled, the call will be rejected with an error message noting the conflict.
    
= Footnotes =
<references/>

= Questions =
* workload examples; esp. for testing, user story creation
* survival group use case (no dependency)
* scheduled scale-out use case (
* triggered scale-{out,in} use case (cloud watch, sns maybe?)
  
----
[[tag:rls-3.3]]
